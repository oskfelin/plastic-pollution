<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Plastic Pollution</title>
    <link rel="stylesheet" href="./styles/bootstrap.min.css">
    <link rel="stylesheet" href="./styles/main.css">
    <script src="./scripts/jquery-3.4.1.js"></script>
    <script src="./scripts/bootstrap.min.js"></script>
    <script src="/scripts/jquery-ui.min.js"></script>
</head>
<body>
<nav class="top-menu">
    <div class="top-navbar">
        <div class="logo-wrapper">
            <div class="font-big"><a class="black" href="index.html">SICKPLASTIC.</a></div>
            <div class="logo-bottom">
                <span class="font-small"><a href="./login.html">Log in</a> </span><span class="font-big"><a class="black" href="index.html">COM</a></span>
            </div>
        </div>
        <div>
            <input class="type-city-input" type="text" placeholder="Find Your city">
        </div>
    </div>
</nav>
<main>
    <div class="plastic-img" style="background-color: #44F300"></div>
    <div class="overflow-hidden sick-wrapper">
        <div class="sick"></div>
    </div>
    <div class="position-relative">
        <div class="pollution-img pollution-1" style="background-color: #DB04FF"></div>
        <div class="pollution-2-wrapper">
            <div class="pollution-img pollution-2" style="background-color: #DB04FF"></div>
        </div>
        <div class="pollution-img pollution-3" style="background-color: #DB04FF"></div>
        <div class="where-to-help font-big">
            <a href="map.html">
            <div>WHERE</div>
            <div>TO</div>
            <div>HELP</div>
            </a>
        </div>
        <div class="sea font-big"><a href="./sea-pollution.html">SEA</a></div>
        <a href="./map.html"><img src="./images/map.png" alt="map" class="map"></a>
    </div>
</main>

<div class="graph-container position-relative">
    <div class="number-big-wrapper">
        <div class="number-big">350</div>
        <div class="million-tones">million</div>
        <div class="million-tones">tones</div>
    </div>
    <div class="dot"></div>
    <img src="./images/graph.svg" alt="" id="graph">
</div>


<div class="ball-container" style="position: fixed; width: 100vw; height: 100vh; top: 0;">
    <a href="login.html">
    <div class="ball">
        <span class="ball-login">LOG&nbsp;IN</span>
    </div>
    </a>
</div>
<script>
    $(function () {
        const plastic = $('.plastic-img');
        const pollution = $('.pollution-img');
        const pollutionScroll = $('.pollution-2-wrapper');
        const ball = $('.ball');
        const ballLogin = $('.ball-login');
        const graph = $('.graph-container');
        const numberWrap = $('.number-big-wrapper');
        const dot = $('.dot');
        const numberBig = $('.number-big');

        (function loop() {
            let random = Math.round(Math.random() * (900));
            setTimeout(function () {
                if (plastic.css("background-color") === "rgb(68, 243, 0)") {
                    plastic.css({backgroundColor: '#DB04FF'})
                } else if (plastic.css("background-color") === 'rgb(219, 4, 255)') {
                    plastic.css({backgroundColor: '#44F300'})
                }
                loop();
            }, random)
        }());
        (function loop2() {
            let random = Math.round(Math.random() * (900));
            setTimeout(function () {
                if (pollution.css("background-color") === "rgb(68, 243, 0)") {
                    pollution.css({backgroundColor: '#DB04FF'})
                } else if (pollution.css("background-color") === 'rgb(219, 4, 255)') {
                    pollution.css({backgroundColor: '#44F300'})
                }
                loop2();
            }, random)
        }());
        (function loop3() {
            let random = Math.round(Math.random() * (900));
            setTimeout(function () {
                if (ball.css("background-color") === "rgb(68, 243, 0)") {
                    ball.css({backgroundColor: '#DB04FF'})
                } else {
                    ball.css({backgroundColor: '#44F300'})
                }
                loop3();
            }, random)
        }());
        (function loop4() {
            let random = Math.round(Math.random() * (900));
            setTimeout(function () {
                if (numberBig.css("color") === "rgb(68, 243, 0)") {
                    numberBig.css({color: '#DB04FF'})
                } else {
                    numberBig.css({color: '#44F300'})
                }
                loop4();
            }, random)
        }());
        document.addEventListener('wheel', (e) => {
            let height = pollutionScroll.height();
            let ballHeight = ball.height();
            let ballWidth = ball.width();
            let ballFont = ballLogin.css('font-size');
            let numberFont = ballFont.match(/\d/g);
            numberFont = Number(numberFont.join(""));
            if (e.deltaY > 0 && height < 1662 - 277) {
                if (numberFont < 100) {
                    numberFont += 7;
                    console.log(numberFont);
                    ballLogin.css('font-size', `${numberFont}px`);
                }
                if (ballWidth < 450) {
                    ball.height(ballHeight + 100);
                    ball.width(ballWidth + 100);
                }
                pollutionScroll.height(height + 277)
            }
            if (height >= 1662) {
                $('.pollution-1-wrapper').css({position: 'relative'})
            }
            if (window.pageYOffset > 260) {
                $('.where-to-help').css({left: '50px'});
                $('.sea').css({left: '1188px'});
            }
            if (window.pageYOffset > 1000) {
                $('.map').css({right: '0'});
                pollution.css({backgroundColor: '#ffffff'});
                plastic.css({backgroundColor: '#ffffff'})
            }
            if (window.pageYOffset > 1400) {
                graph.show();
            }

            if (window.pageYOffset > 1900) {
                ball.hide();
                numberWrap.css({left: '100px'});
                dot.css({right: '0'});
            }
        }, false)
    })
</script>
</body>
</html>